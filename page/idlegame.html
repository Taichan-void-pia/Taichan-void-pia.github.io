<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ğŸ’° æ”¾ç½®ãƒãƒãƒ¼ã‚²ãƒ¼ãƒ  Neo</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
      color: #fff;
      text-align: center;
      overflow-x: hidden;
    }

    h1 {
      margin-top: 40px;
      font-size: 2.5em;
      color: #00e676;
      text-shadow: 0 0 10px #00e676;
    }

    .stats {
      margin-top: 30px;
      font-size: 1.4em;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      display: inline-block;
      padding: 20px 40px;
      box-shadow: 0 0 20px rgba(0, 255, 150, 0.2);
    }

    .money {
      font-size: 2em;
      color: #00e676;
      font-weight: bold;
    }

    .upgrade-container {
      margin-top: 40px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 0 20px;
    }

    .upgrade-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      width: 250px;
      padding: 20px;
      transition: 0.3s;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);
    }

    .upgrade-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 20px rgba(0, 255, 150, 0.3);
    }

    .upgrade-card button {
      margin-top: 15px;
      background: linear-gradient(90deg, #00e676, #00bfa5);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 1.1em;
      padding: 10px 20px;
      cursor: pointer;
      transition: 0.2s;
      width: 100%;
    }

    .upgrade-card button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px #00e676;
    }

    .reset-btn {
      margin-top: 40px;
      background: #f44336;
      border: none;
      color: white;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }

    .reset-btn:hover {
      background: #ff5252;
      box-shadow: 0 0 10px #ff1744;
    }
  </style>
</head>
<body>
  <h1>ğŸ’° æ”¾ç½®ãƒãƒãƒ¼ã‚²ãƒ¼ãƒ  Neo</h1>

  <div class="stats">
    <div>æ‰€æŒé‡‘ï¼š<span class="money" id="money">0</span></div>
    <div>1ç§’ã‚ãŸã‚Šã®åå…¥ï¼š<span id="rate">1</span></div>
  </div>

  <div class="upgrade-container">
    <div class="upgrade-card">
      <h3>ğŸ’¹ åå…¥ã‚¢ãƒƒãƒ—</h3>
      <p>1ç§’ã‚ãŸã‚Šã®åŸºæœ¬åå…¥ã‚’ä¸Šã’ã¾ã™ã€‚</p>
      <button onclick="upgradeIncome()">è³¼å…¥ï¼ˆ<span id="costIncome">10</span>ï¼‰</button>
    </div>

    <div class="upgrade-card">
      <h3>âš™ï¸ åŠ¹ç‡ã‚¢ãƒƒãƒ—</h3>
      <p>åå…¥å€ç‡ã‚’å¼·åŒ–ã—ã¾ã™ã€‚</p>
      <button onclick="upgradeEfficiency()">è³¼å…¥ï¼ˆ<span id="costEff">25</span>ï¼‰</button>
    </div>
  </div>

  <button class="reset-btn" onclick="resetGame()">ãƒªã‚»ãƒƒãƒˆ</button>

  <script>
    let money = 0;
    let incomePerSecond = 1;
    let efficiency = 1;
    let upgradeCostIncome = 10;
    let upgradeCostEff = 25;

    function updateDisplay() {
      document.getElementById("money").textContent = Math.floor(money);
      document.getElementById("rate").textContent = Math.floor(incomePerSecond * efficiency);
      document.getElementById("costIncome").textContent = Math.floor(upgradeCostIncome);
      document.getElementById("costEff").textContent = Math.floor(upgradeCostEff);
    }

    function saveGame() {
      const saveData = {
        money, incomePerSecond, efficiency, upgradeCostIncome, upgradeCostEff
      };
      localStorage.setItem("idleGameSaveV3", JSON.stringify(saveData));
    }

    function loadGame() {
      const saved = localStorage.getItem("idleGameSaveV3");
      if (saved) {
        const data = JSON.parse(saved);
        money = data.money || 0;
        incomePerSecond = data.incomePerSecond || 1;
        efficiency = data.efficiency || 1;
        upgradeCostIncome = data.upgradeCostIncome || 10;
        upgradeCostEff = data.upgradeCostEff || 25;
      }
    }

    function resetGame() {
      if (confirm("æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ã¾ã™ã‹ï¼Ÿ")) {
        localStorage.removeItem("idleGameSaveV3");
        money = 0;
        incomePerSecond = 1;
        efficiency = 1;
        upgradeCostIncome = 10;
        upgradeCostEff = 25;
        updateDisplay();
      }
    }

    function upgradeIncome() {
      if (money >= upgradeCostIncome) {
        money -= upgradeCostIncome;
        incomePerSecond *= 1.5;
        upgradeCostIncome *= 2;
        saveGame();
        updateDisplay();
      }
    }

    function upgradeEfficiency() {
      if (money >= upgradeCostEff) {
        money -= upgradeCostEff;
        efficiency *= 1.2;
        upgradeCostEff *= 2.5;
        saveGame();
        updateDisplay();
      }
    }

    let remainder = 0;
    setInterval(() => {
      const totalPerSec = incomePerSecond * efficiency;
      const perMs = totalPerSec / 1000;
      remainder += perMs;
      if (remainder >= 1) {
        const add = Math.floor(remainder);
        money += add;
        remainder -= add;
      }
    }, 1);

    setInterval(saveGame, 5000);

    loadGame();
    updateDisplay();
  </script>
</body>
</html>
